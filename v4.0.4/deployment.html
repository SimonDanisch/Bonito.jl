<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Deployment · Bonito</title><meta name="title" content="Deployment · Bonito"/><meta property="og:title" content="Deployment · Bonito"/><meta property="twitter:title" content="Deployment · Bonito"/><meta name="description" content="Documentation for Bonito."/><meta property="og:description" content="Documentation for Bonito."/><meta property="twitter:description" content="Documentation for Bonito."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Bonito</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">Components</span><ul><li><a class="tocitem" href="styling.html">Styling</a></li><li><a class="tocitem" href="components.html">Components</a></li><li><a class="tocitem" href="layouting.html">Layouting</a></li><li><a class="tocitem" href="widgets.html">Widgets</a></li><li><a class="tocitem" href="interactions.html">Interactions</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="plotting.html">Plotting</a></li><li><a class="tocitem" href="javascript-libraries.html">Wrapping JS libraries</a></li><li><a class="tocitem" href="assets.html">Assets</a></li><li><a class="tocitem" href="extending.html">Extending</a></li></ul></li><li class="is-active"><a class="tocitem" href="deployment.html">Deployment</a><ul class="internal"><li><a class="tocitem" href="#Server"><span>Server</span></a></li><li><a class="tocitem" href="#Terminal"><span>Terminal</span></a></li><li><a class="tocitem" href="#VScode"><span>VScode</span></a></li><li><a class="tocitem" href="#Notebooks"><span>Notebooks</span></a></li><li><a class="tocitem" href="#Electron"><span>Electron</span></a></li><li><a class="tocitem" href="#Documenter"><span>Documenter</span></a></li><li><a class="tocitem" href="#Static-export"><span>Static export</span></a></li><li><a class="tocitem" href="#Anything-else"><span>Anything else</span></a></li></ul></li><li><a class="tocitem" href="static.html">Static Sites</a></li><li><a class="tocitem" href="api.html">Api</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="deployment.html">Deployment</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="deployment.html">Deployment</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SimonDanisch/Bonito.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SimonDanisch/Bonito.jl/blob/master/docs/src/deployment.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Deployment"><a class="docs-heading-anchor" href="#Deployment">Deployment</a><a id="Deployment-1"></a><a class="docs-heading-anchor-permalink" href="#Deployment" title="Permalink"></a></h1><p>Apps can be deployed in a wide variety of scenarios.</p><p>Lets start with a very simple example app and show how to deploy that App:</p><pre><code class="language-julia hljs">using Bonito
example_app = App(DOM.div(&quot;hello world&quot;), title=&quot;hello world&quot;)</code></pre><div class="bonito-fragment" id="6af12a63-9417-4e06-a974-b72059c89d4f" data-jscall-id="subsession-application-dom">
  <div>
    <style></style>
  </div>
  <div>
    <script type="module">Bonito.lock_loading(() => Bonito.init_session('6af12a63-9417-4e06-a974-b72059c89d4f', null, 'sub', false))</script>
    <div data-jscall-id="132">hello world</div>
  </div>
</div><h2 id="Server"><a class="docs-heading-anchor" href="#Server">Server</a><a id="Server-1"></a><a class="docs-heading-anchor-permalink" href="#Server" title="Permalink"></a></h2><pre><code class="language-julia hljs"># Depending on your servers setup, you may need to listen on another port or URL
# But 0.0.0.0:80 is pretty standard for most server setups
port = 80
url = &quot;0.0.0.0&quot;
server = Bonito.Server(example_app, url, port)</code></pre><p>Now, you should see the webpage at <code>http://0.0.0.0:80</code>.</p><h3 id="Proxy-Julia-Hub"><a class="docs-heading-anchor" href="#Proxy-Julia-Hub">Proxy + Julia Hub</a><a id="Proxy-Julia-Hub-1"></a><a class="docs-heading-anchor-permalink" href="#Proxy-Julia-Hub" title="Permalink"></a></h3><p>If the server is behind a proxy, you can set the proxy like this:</p><pre><code class="language-julia hljs">server = Bonito.Server(example_app, &quot;0.0.0.0&quot;, 8080; proxy_url=&quot;https://my-domain.de/my-app&quot;);
# or set it later
# this can be handy for interactive use cases where one isn&#39;t sure which port is open, and let Bonito find a free port (which will then be different from the one created with, but is stored in `server.port`)
server.proxy_url = &quot;.../$(server.port)&quot;</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;.../8080&quot;</code></pre><p>Bonito tries to do this for known environments like JuliaHub via <code>get_server()</code>. This will find the most common proxy setup and return a started server:</p><pre><code class="language-julia hljs">server = Bonito.get_server()
# add a route to the server for root to point to our example app
route!(server, &quot;/&quot; =&gt; example_app)</code></pre><p>The url which this site is now served on can be found via:</p><pre><code class="language-julia hljs"># Here in documenter, this will just return a localhost url
url_to_visit = online_url(server, &quot;/&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;http://localhost:9384/&quot;</code></pre><p>Like this, one can also add multiple pages:</p><pre><code class="language-julia hljs">page_404 = App() do session, request
    return DOM.div(&quot;no page for $(request.target)&quot;)
end
# You can use string (paths), or a regex
route!(server, r&quot;.*&quot; =&gt; page_404)
route!(server, &quot;/my/nested/page&quot; =&gt; App(DOM.div(&quot;nested&quot;)))
url_to_visit = online_url(server, &quot;/my/nested/page&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;http://localhost:9384/my/nested/page&quot;</code></pre><h3 id="Secure-HTTPS-connections-with-SSL"><a class="docs-heading-anchor" href="#Secure-HTTPS-connections-with-SSL">Secure HTTPS connections with SSL</a><a id="Secure-HTTPS-connections-with-SSL-1"></a><a class="docs-heading-anchor-permalink" href="#Secure-HTTPS-connections-with-SSL" title="Permalink"></a></h3><p>If the boss insists your fancy webpage use the <code>https://</code> protocol, ask them for the SSL certificate and key files, and then launch your Bonito App like this:</p><pre><code class="nohighlight hljs">using MbedTLS

sslconfig = MbedTLS.SSLConfig(&lt;path-to-SSL-certificate-file&gt;, &lt;path-to-SSL-key-file&gt;)
Bonito.Server(main, url, port, sslconfig=sslconfig)</code></pre><h3 id="Logging-requests"><a class="docs-heading-anchor" href="#Logging-requests">Logging requests</a><a id="Logging-requests-1"></a><a class="docs-heading-anchor-permalink" href="#Logging-requests" title="Permalink"></a></h3><p>You want to see who accesses all of your hard work?  No problem!</p><pre><code class="nohighlight hljs">using HTTP
access_log = HTTP.logfmt&quot;[$time_iso8601] $remote_addr $request_uri&quot;
Bonito.Server(main, url, port, access_log=access_log)</code></pre><h3 id="nginx"><a class="docs-heading-anchor" href="#nginx">nginx</a><a id="nginx-1"></a><a class="docs-heading-anchor-permalink" href="#nginx" title="Permalink"></a></h3><p>If you need to re-route Bonito e.g. to host in parallel to PlutoSliderServer, you want a reverse-proxy like <code>nginx</code>. We did some testing with nginx and the following configuration worked for us:</p><pre><code class="language-nginx hljs">server {
    listen 8080;
    location /bonito/ {
        proxy_pass http://localhost:8081/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;Upgrade&quot;;
        proxy_set_header Host $host;
    }
}</code></pre><p>and the Bonito with:</p><pre><code class="language-julia hljs">    server = Server(&quot;127.0.0.1&quot;, 8081;proxy_url=&quot;https://www.abc.org/bonito/&quot;)
    route!(server,&quot;/&quot;=&gt;app) # with app an Bonito app
    # close(server) # useful for debugging ;)</code></pre><p>This would re-route <code>www.abc.org:8080/bonito/</code> to your local Bonito-Server.</p><p>If you get errors in your browser console relating to &quot;GET&quot;, &quot;MIME-TYPE&quot;</p><ol><li>First make sure that the URL of the assets is &quot;correct&quot;, that is, there is no <code>//</code> somewhere in the domain, and in principle the client tries to find the correct target (<code>Server(...,verbose=1)</code> might help to see if requests arrive).</li><li>if the app shows up fine, but you get these errors (typically with <code>wss://</code> in the front, indicating some WebSocket issue), double check that all the slashes <code>/</code> in your configuration are set correct. That is all these 4 paths should have <code>/</code>&#39;s at the end: <code>location /subfolder/</code>, <code>proxy_pass =.../</code>  <code>Server(...,proxy_url=&quot;.../&quot;)</code> and <code>route!(...,&#39;/&#39;=&gt;app)</code></li><li>If it still doesn&#39;t work, you might need to look into WebSocket forwarding - or you might have an intermediate reverse-proxy that blocks the WebSocket.</li></ol><h3 id="Heroku"><a class="docs-heading-anchor" href="#Heroku">Heroku</a><a id="Heroku-1"></a><a class="docs-heading-anchor-permalink" href="#Heroku" title="Permalink"></a></h3><p>Deploying to Heroku with Bonito works pretty similar to this <a href="https://towardsdatascience.com/deploying-julia-projects-on-heroku-com-eb8da5248134">blogpost</a>.</p><pre><code class="nohighlight hljs">mkdir my-app
cd my-app
julia --project=. -e &#39;using Pkg; Pkg.add(&quot;Bonito&quot;)&#39; # and any other dependency</code></pre><p>then create 2 files:</p><p><code>app.jl</code>:</p><pre><code class="language-julia hljs">using Bonito
# The app you want to serve
#  Note: you can also add more pages with `route!(server, ...)` as explained aboce
my_app = App(DOM.div(&quot;hello world&quot;))
port = parse(Int, ENV[&quot;PORT&quot;])
# needs to match `heroku create - a example-app`,
# which we can ensure by using the env variable
# which is only available in review app, so one needs to fill this in manually for now
# https://devcenter.heroku.com/articles/github-integration-review-apps#injected-environment-variables
my_app_name = get(ENV, &quot;HEROKU_APP_NAME&quot;, &quot;example-app&quot;)
url = &quot;https://$(my_app_name).herokuapp.com/&quot;
wait(Bonito.Server(my_app, &quot;0.0.0.0&quot;, port, proxy_url=url))</code></pre><p><code>Procfile</code>:</p><pre><code class="nohighlight hljs">web: julia --project=. app.jl</code></pre><p>and then to upload the app install the <a href="https://devcenter.heroku.com/articles/heroku-cli">heroku-cli</a> and run as explained in the <a href="https://devcenter.heroku.com/articles/git">heroku git deploy section</a>:</p><pre><code class="nohighlight hljs">$ cd my-app
$ git init
$ git add .
$ git commit -m &quot;first commit&quot;
$ heroku create -a example-app
$ heroku git:remote -a example-app</code></pre><p>Which, after showing you the install logs, should print out the url to visit in the end. You can see the full example here:</p><p>https://github.com/SimonDanisch/Bonito-heroku</p><h2 id="Terminal"><a class="docs-heading-anchor" href="#Terminal">Terminal</a><a id="Terminal-1"></a><a class="docs-heading-anchor-permalink" href="#Terminal" title="Permalink"></a></h2><p>If no HTML display is found in the Julia display stack, Bonito calls <code>Bonito.enable_browser_display()</code> in the <code>__init__</code> function. This adds a display, that opens a browser window to display the app. The loading of the <code>BrowserDisplay</code> happen in any kind of environment without html display, so this should also work in any kind of terminal or when evaluating a script.</p><pre><code class="language-julia hljs">&gt; using Bonito
&gt; example_app # just let the display system display it in a browser window</code></pre><h2 id="VScode"><a class="docs-heading-anchor" href="#VScode">VScode</a><a id="VScode-1"></a><a class="docs-heading-anchor-permalink" href="#VScode" title="Permalink"></a></h2><p>VScode with enabled <code>Plot Pane</code> will display any <code>Bonito.App</code> in the HTML plotpane: <img src="vscode.png" alt/></p><p>If VSCode is used in a remote setting, VSCode may automatically forward the port so the plot pane can work out of the box. If this doesn&#39;t happen for some reason (it has been reported to not always work), you can manually forward it via the command menu (ctr+shift+p) and <code>forward a port</code>, or just select the PORTS tab in the terminal view.</p><h2 id="Notebooks"><a class="docs-heading-anchor" href="#Notebooks">Notebooks</a><a id="Notebooks-1"></a><a class="docs-heading-anchor-permalink" href="#Notebooks" title="Permalink"></a></h2><p>Most common notebook systems should work out of the box.</p><h3 id="IJulia"><a class="docs-heading-anchor" href="#IJulia">IJulia</a><a id="IJulia-1"></a><a class="docs-heading-anchor-permalink" href="#IJulia" title="Permalink"></a></h3><p><img src="ijulia.png" alt/></p><h3 id="Jupyterlab"><a class="docs-heading-anchor" href="#Jupyterlab">Jupyterlab</a><a id="Jupyterlab-1"></a><a class="docs-heading-anchor-permalink" href="#Jupyterlab" title="Permalink"></a></h3><p><img src="jupyterlab.png" alt/></p><h3 id="Pluto"><a class="docs-heading-anchor" href="#Pluto">Pluto</a><a id="Pluto-1"></a><a class="docs-heading-anchor-permalink" href="#Pluto" title="Permalink"></a></h3><p><img src="pluto.png" alt/></p><h2 id="Electron"><a class="docs-heading-anchor" href="#Electron">Electron</a><a id="Electron-1"></a><a class="docs-heading-anchor-permalink" href="#Electron" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Electron, Bonito
# Needs to be called after loading Electron
Bonito.use_electron_display()
# display(...) can be skipped in e.g. VSCode with disabled plotpane
display(example_app)</code></pre><p><img src="electron.png" alt/></p><div class="admonition is-info" id="Note-a0da8cb36df8be7e"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-a0da8cb36df8be7e" title="Permalink"></a></header><div class="admonition-body"><p>By default, <code>Bonito</code> will create the Electron window without showing the Developer Tools panel. You can control this behavior at window creation using the <code>devtools</code> keyword arg:</p><pre><code class="nohighlight hljs">display = Bonito.use_electron_display(devtools = true)</code></pre><p>Alternatively, you can toggle the Developer Tools at any later time using:</p><pre><code class="nohighlight hljs">Electron.toggle_devtools(display.window)</code></pre></div></div><h2 id="Documenter"><a class="docs-heading-anchor" href="#Documenter">Documenter</a><a id="Documenter-1"></a><a class="docs-heading-anchor-permalink" href="#Documenter" title="Permalink"></a></h2><p>Bonito works in Documenter without additional setup. But, one always needs to include a block like this before any other code block displaying Bonito Apps:</p><pre><code class="language-julia hljs">using Bonito
Page()</code></pre><p>This is needed, since Bonito structures the dependencies and state per Page, which needs to be unique per documentation page. One can use the Bonito documentation source to see an example.</p><h2 id="Static-export"><a class="docs-heading-anchor" href="#Static-export">Static export</a><a id="Static-export-1"></a><a class="docs-heading-anchor-permalink" href="#Static-export" title="Permalink"></a></h2><p>Bonito works also to create static sites, by using <code>Routes</code> and <code>export_static</code>.</p><pre><code class="language-julia hljs">routes = Routes(
    &quot;/&quot; =&gt; App(index_func, title=&quot;Makie&quot;),
    &quot;/team&quot; =&gt; App(team_func, title=&quot;Team&quot;),
    &quot;/contact&quot; =&gt; App(contact_func, title=&quot;Contact&quot;),
    &quot;/support&quot; =&gt; App(support_func, title=&quot;Support&quot;)
)
Bonito.export_static(&quot;html/folder&quot;, routes)</code></pre><p>Please visit <a href="static.html#Static-Sites">Static Sites</a> for more details.</p><h2 id="Anything-else"><a class="docs-heading-anchor" href="#Anything-else">Anything else</a><a id="Anything-else-1"></a><a class="docs-heading-anchor-permalink" href="#Anything-else" title="Permalink"></a></h2><p>Bonito overloads the <code>display</code>/<code>show</code> stack for the mime <code>&quot;text/html&quot;</code> so any other Software which is able to display html in Julia should work with Bonito. If a use case is not supported, please open an issue. One can also always directly call:</p><pre><code class="language-julia hljs">html_source = sprint(io-&gt; show(io, MIME&quot;text/html&quot;(), example_app))</code></pre><p>Do get the html source code as a string (or just write it to the io).</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="extending.html">« Extending</a><a class="docs-footer-nextpage" href="static.html">Static Sites »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.3 on <span class="colophon-date" title="Thursday 15 May 2025 14:24">Thursday 15 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
